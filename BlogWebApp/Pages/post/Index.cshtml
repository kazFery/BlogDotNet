@page
@model BlogWebApp.Pages.post.IndexModel
@{
}
<partial name="_Notification" />
<div class="container p-3">
	<div class="row pt-4">
		<div class="col-6">
			<h2 class="text-primary">Post List</h2>
		</div>
		<div class="col-6 text-end">
			<a asp-page="Upsert" class="btn btn-primary">
				<i class="bi bi-plus-circle"></i> &nbsp; Create New Post
			</a>
		</div>
	</div>
	<br /><br />

	<table id="tblData" class="table table-light thead-dark table-bordered table-striped" style="width:100%">
		<thead>
			<tr>
				<th>Title</th>
				<th>Body</th>
				<th>Posted Date</th>
				<th>Image</th>
				<th> Comments</th>
			</tr>
		</thead>
		 <tbody>
        @foreach (var obj in Model.posts){
            <tr> 
                <td width="10%"> @obj.Title</td>
				<td width="20%">  @Html.Raw(@obj.Body)</td>
                <td width="30%"> @obj.CreationTime</td>
			    <td width="30%"><img src="@obj.ImageUrl" width="30"/></td>
					<td>
						<a asp-page="/Post/PostComments" asp-route-id="@obj.Id" class="btn btn-primary mx-2">
							<i class="bi bi-card-list"></i>

						</a> </td>
				<td> 
                  <div class="w-75 btn-group" role="group">
                        <a asp-page="Upsert" asp-route-id="@obj.Id" class="btn btn-primary mx-2"> <i class="bg-info bi-pencil-square"> </i></a>
                        <a asp-page="Delete" asp-route-id="@obj.Id"  class="btn btn-danger mx-2"> <i class="bg-info bi-trash3-fill"> </i> </a>
                  </div>

                </td>
            </tr>
        }
    </tbody>

	</table>
</div>




